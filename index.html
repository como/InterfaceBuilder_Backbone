<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Canvas</title>
<link href="vendor/smoothness/jquery-ui-1.10.0.custom.min.css" rel="stylesheet">
<link href="vendor/bootstrap.css" rel="stylesheet">
<link href="vendor/bootstrap-responsive.css" rel="stylesheet">
<link href="css/canvas.css" rel="stylesheet">
	
<!-- Site CSS -->
<link href="css/site/theme.css" rel="stylesheet">
<link href="css/site/flexslider.css" rel="stylesheet">
</head>

<body>
	
	<!-- Start scaffolding Templates -->
	
	<script id="container-template" type="text/template">
	<div class="row">
		<div class="span12 handle container-handle "><a href="#" class="ib-control pull-right" onclick="IB.PageControllerInstance.removeContainer({uuid: '<%= uuid %>'})"><span class="label label-inverse">container</span> <i class="icon-remove"></i></a></div>
	</div>
	<div class="rows" data-uuid="<%= uuid %>">
	</div>
	</script>
	
	<script id="row-template" type="text/template">
	<div class="span12 handle row-handle">
		<a href="#" class="ib-control pull-right" onclick="IB.PageControllerInstance.removeRow({uuid:'<%= uuid %>', containerUUID: '<%= options.containerUUID %>'})"><span class="label label-inverse">row</span> <i class="icon-remove"></i></a>
	</div>
	<div class="columns" data-uuid="<%= uuid %>" data-container="<%= options.containerUUID %>">
	</div>
	</script>
	
	<script id="column-template" type="text/template">
	<div class="handle column-handle"></div>
	<div class="blocks" data-uuid="<%= uuid %>" data-row="<%= options.rowUUID %>" data-container="<%= options.containerUUID %>">
	</div>

	</script>
	
	<!-- End scaffolding Templates -->
	
	<!-- Start block Templates -->
	
	<script id="text-block-template" type="text/template">
	<div class="handle block-handle"><a href="#"  class="ib-control pull-right" onclick="IB.PageControllerInstance.removeBlock({uuid:'<%= uuid %>', columnUUID:'<%= columnUUID %>', rowUUID:'<%= rowUUID %>', containerUUID: '<%= containerUUID %>'})"><i class="icon-remove"></i></a></div>
	
	Rich Text <%= content %> 

	</script>
	
	<script id="table-block-template" type="text/template">
	<div class="handle block-handle"><a href="#"  class="ib-control pull-right" onclick="IB.PageControllerInstance.removeBlock({uuid:'<%= uuid %>', columnUUID:'<%= columnUUID %>', rowUUID:'<%= rowUUID %>', containerUUID: '<%= containerUUID %>'})"><i class="icon-remove"></i></a></div>
	
		Table <%= content %>
	</script>
	
	<script id="video-block-template" type="text/template">
	<div class="handle block-handle"><a href="#"  class="ib-control pull-right" onclick="IB.PageControllerInstance.removeBlock({uuid:'<%= uuid %>', columnUUID:'<%= columnUUID %>', rowUUID:'<%= rowUUID %>', containerUUID: '<%= containerUUID %>'})"><i class="icon-remove"></i></a></div>
	
		Video <%= content %> 
	</script>
	
	<!-- End block Templates -->
	
	<!-- Begin Sidebar -->
	<div id="sidebarbtn">
		<a href="#" onclick="IB.toggleSidebar()"><i class="icon-th-list icon-white"></i></a>
	</div>
	
	<div id="sidebar">
		<div class="pull-right">
		<a class="btn btn-mini btn-inverse" onclick="IB.toggleSidebar()"><i class="icon-remove icon-white"></i></a>
		</div>
		<br/>
		
		<ul class="nav nav-list">
			<li class="nav-header">Templates</li>
			<li><a href="/#/page/1"><div class="draggable_scaffold" data-template="scaffold_col1row">Home Template</div></a></li>
			<li><a href="#"><div class="draggable_scaffold" data-template="scaffold_col1row">About Template</div></a></li>
			
			<li class="nav-header">Scaffolding</li>
			<li><a href="#"><div class="sidebar_container" data-template="container-template">Container</div></a></li>
			<li><a href="#"><div class="sidebar_row" data-template="row-template">Row</div></a>

		  <li class="nav-header">Blocks</li>
		  <li><a href="#"><div class="sidebar_block" data-template="video-block-template">Video</div></a></li>			
		</ul>
	</div>
	<!-- End Sidebar -->
	
	<div id="page">
	</div>	
	<script src="vendor/uuid.core.js"></script>
	<script src="vendor/jquery-1.9.0.js"></script>
	<script src="vendor/jquery-ui-1.10.0.custom.min.js"></script>
	<script src="vendor/underscore-min.js"></script>
	<script src="vendor/backbone-min.js"></script>
	<script src="vendor/bootstrap.min.js"></script>
	<script src="js/app/ui.js"></script>
	<script src="js/app/models.js"></script>
	<script src="js/app/views.js"></script>
	<script src="js/app/controllers.js"></script>
	<script>

	$(document).ready(function(){
	IB.currentPage = new Page({id:1});
	IB.currentPage.fetch({
		    success: function () {
					IB.PageControllerInstance = new IB.PageController(IB.currentPage);
		    },
				error: function () {
					IB.PageControllerInstance = new IB.PageController(new Page());
				}
		});
	});
	</script>
</body>
</html>